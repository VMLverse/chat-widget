if("undefined"==typeof dd_domreadycheck)var dd_domreadycheck=!1;var anylinkmenu={menusmap:{},preloadimages:[],effects:{delayhide:200,shadow:{enabled:!0,opacity:.3,depth:[5,5]},fade:{enabled:!1,duration:500}},dimensions:{},getoffset:function(e,t){return e.offsetParent?e[t]+this.getoffset(e.offsetParent,t):e[t]},getoffsetof:function(e){e._offsets={left:this.getoffset(e,"offsetLeft"),top:this.getoffset(e,"offsetTop"),h:e.offsetHeight}},getdimensions:function(e){this.dimensions={anchorw:e.anchorobj.offsetWidth,anchorh:e.anchorobj.offsetHeight,docwidth:(window.innerWidth||this.standardbody.clientWidth)-20,docheight:(window.innerHeight||this.standardbody.clientHeight)-15,docscrollx:window.pageXOffset||this.standardbody.scrollLeft,docscrolly:window.pageYOffset||this.standardbody.scrollTop},this.dimensions.dropmenuw||(this.dimensions.dropmenuw=e.dropmenu.offsetWidth,this.dimensions.dropmenuh=e.dropmenu.offsetHeight)},isContained:function(e,t){for(var t=window.event||t,n=t.relatedTarget||("mouseover"==t.type?t.fromElement:t.toElement);n&&n!=e;)try{n=n.parentNode}catch(t){n=e}return n==e?!0:!1},setopacity:function(e,t){e.style.opacity=t,"string"!=typeof e.style.opacity&&(e.style.MozOpacity=t,e.filters&&(e.style.filter="progid:DXImageTransform.Microsoft.alpha(opacity="+100*t+")"))},showmenu:function(e){var t=anylinkmenu.menusmap[e];clearTimeout(t.hidetimer),this.getoffsetof(t.anchorobj),this.getdimensions(t);var n=t.anchorobj._offsets.left+("lr"==t.orientation?this.dimensions.anchorw:0),i=t.anchorobj._offsets.top+this.dimensions.anchorh-("lr"==t.orientation?this.dimensions.anchorh:0);n+this.dimensions.dropmenuw+this.effects.shadow.depth[0]>this.dimensions.docscrollx+this.dimensions.docwidth&&(n=n-this.dimensions.dropmenuw+("lr"==t.orientation?-this.dimensions.anchorw:this.dimensions.anchorw)),i+this.dimensions.dropmenuh>this.dimensions.docscrolly+this.dimensions.docheight&&(i=Math.max(i-this.dimensions.dropmenuh-("lr"==t.orientation?-this.dimensions.anchorh:this.dimensions.anchorh),this.dimensions.docscrolly)),this.effects.fade.enabled&&(this.setopacity(t.dropmenu,0),this.effects.shadow.enabled&&this.setopacity(t.shadow,0)),t.dropmenu.setcss({left:n+"px",top:i+"px",visibility:"visible"}),this.effects.shadow.enabled&&t.shadow.setcss({left:n+anylinkmenu.effects.shadow.depth[0]+"px",top:i+anylinkmenu.effects.shadow.depth[1]+"px",visibility:"visible"}),this.effects.fade.enabled&&(clearInterval(t.animatetimer),t.curanimatedegree=0,t.starttime=(new Date).getTime(),t.animatetimer=setInterval(function(){anylinkmenu.revealmenu(e)},20))},revealmenu:function(e){var t=anylinkmenu.menusmap[e],n=(new Date).getTime()-t.starttime;n<this.effects.fade.duration?(this.setopacity(t.dropmenu,t.curanimatedegree),this.effects.shadow.enabled&&this.setopacity(t.shadow,t.curanimatedegree*this.effects.shadow.opacity)):(clearInterval(t.animatetimer),this.setopacity(t.dropmenu,1),t.dropmenu.style.filter=""),t.curanimatedegree=(1-Math.cos(n/this.effects.fade.duration*Math.PI))/2},setcss:function(e){for(prop in e)this.style[prop]=e[prop]},setcssclass:function(e,t,n){var i=new RegExp("(^|\\s+)"+t+"($|\\s+)","ig");return"check"==n?i.test(e.className):void("remove"==n?e.className=e.className.replace(i,""):"add"!=n||i.test(e.className)||(e.className+=" "+t))},hidemenu:function(e){var t=anylinkmenu.menusmap[e];clearInterval(t.animatetimer),t.dropmenu.setcss({visibility:"hidden",left:0,top:0}),t.shadow.setcss({visibility:"hidden",left:0,top:0})},getElementsByClass:function(e){if(document.querySelectorAll)return document.querySelectorAll("."+e);for(var t=new RegExp("(^|\\s+)"+e+"($|\\s+)","i"),n=[],i=document.all?document.all:document.getElementsByTagName("*"),s=0;s<i.length;s++)"string"==typeof i[s].className&&-1!=i[s].className.search(t)&&(n[n.length]=i[s]);return n},addDiv:function(e,t,n){var i=document.createElement("div");return e&&(i.id=e),i.className=t,""!=n&&"string"==typeof i.style.cssText?i.style.cssText=n:""!=n&&i.setAttribute("style",n),document.body.appendChild(i),i},getmenuHTML:function(e){for(var t=[],n="",i=0;i<e.items.length;i++)n+='<li><a href="'+e.items[i][1]+'" target="'+e.linktarget+'">'+e.items[i][0]+"</a></li>\n",("efc"==e.items[i][2]||i==e.items.length-1)&&(t.push(n),n="");if("undefined"==typeof e.cols)return"<ul>\n"+t.join("")+"\n</ul>";n="";for(var i=0;i<t.length;i++)n+='<div class="'+e.cols.divclass+'" style="'+e.cols.inlinestyle+'">\n<ul>\n'+t[i]+"</ul>\n</div>\n";return n},addEvent:function(e,t,n){if(e.length>0){var i=e.shift();i.addEventListener?i.addEventListener(n,t,!1):i.attachEvent&&i.attachEvent("on"+n,function(){return t.call(i,window.event)}),this.addEvent(e,t,n)}},domready:function(e){return dd_domreadycheck?void e():(document.addEventListener?document.addEventListener("DOMContentLoaded",function(){document.removeEventListener("DOMContentLoaded",arguments.callee,!1),e(),dd_domreadycheck=!0},!1):document.attachEvent&&document.documentElement.doScroll&&window==window.top&&function(){if(!dd_domreadycheck){try{document.documentElement.doScroll("left")}catch(t){return void setTimeout(arguments.callee,0)}e(),dd_domreadycheck=!0}}(),void(document.attachEvent&&parent.length>0&&this.addEvent(window,function(){e()},"load")))},addState:function(e,t){if(e.getAttribute("data-image")){var n="IMG"==e.tagName?e:e.getElementsByTagName("img")[0];n&&(n.src=e.getAttribute("add"==t?"data-overimage":"data-image"))}else anylinkmenu.setcssclass(e,"selectedanchor",t)},addState:function(e,t){if(e.getAttribute("data-image")){var n="IMG"==e.tagName?e:e.getElementsByTagName("img")[0];n&&(n.src=e.getAttribute("add"==t?"data-overimage":"data-image"))}else anylinkmenu.setcssclass(e,"selectedanchor",t)},setupmenu:function(e,t,n){this.standardbody="CSS1Compat"==document.compatMode?document.documentElement:document.body;var i=t.getAttribute("rel");dropmenuid=i.replace(/\[(\w+)\]/,"");var s=window[dropmenuid],a=this.addDiv(null,s.divclass,s.inlinestyle);a.innerHTML=this.getmenuHTML(s);var o=this.menusmap[e+n]={id:e+n,anchorobj:t,dropmenu:a,revealtype:i.length!=dropmenuid.length&&"click"==RegExp.$1?"click":"mouseover",orientation:"lr"==t.getAttribute("rev")?"lr":"ud",shadow:this.addDiv(null,"anylinkshadow",null)};o.anchorobj._internalID=e+n,o.anchorobj._isanchor=!0,o.dropmenu._internalID=e+n,o.shadow._internalID=e+n,o.dropmenu.setcss=this.setcss,o.shadow.setcss=this.setcss,o.shadow.setcss({width:o.dropmenu.offsetWidth+"px",height:o.dropmenu.offsetHeight+"px"}),this.setopacity(o.shadow,this.effects.shadow.opacity),this.addEvent([o.anchorobj,o.dropmenu,o.shadow],function(e){var t=anylinkmenu.menusmap[this._internalID];this._isanchor&&"mouseover"==t.revealtype&&!anylinkmenu.isContained(this,e)?(anylinkmenu.showmenu(t.id),anylinkmenu.addState(this,"add")):"undefined"==typeof this._isanchor&&clearTimeout(t.hidetimer)},"mouseover"),this.addEvent([o.anchorobj,o.dropmenu,o.shadow],function(e){if(!anylinkmenu.isContained(this,e)){var t=anylinkmenu.menusmap[this._internalID];t.hidetimer=setTimeout(function(){anylinkmenu.addState(t.anchorobj,"remove"),anylinkmenu.hidemenu(t.id)},anylinkmenu.effects.delayhide)}},"mouseout"),this.addEvent([o.anchorobj,o.dropmenu],function(e){var t=anylinkmenu.menusmap[this._internalID];return this._isanchor&&"click"==t.revealtype?("visible"==t.dropmenu.style.visibility?anylinkmenu.hidemenu(t.id):(anylinkmenu.addState(this,"add"),anylinkmenu.showmenu(t.id)),e.preventDefault&&e.preventDefault(),!1):void(t.hidetimer=setTimeout(function(){anylinkmenu.hidemenu(t.id)},anylinkmenu.effects.delayhide))},"click")},init:function(e){this.domready(function(){anylinkmenu.trueinit(e)})},trueinit:function(e){for(var t=this.getElementsByClass(e),n=this.preloadimages,i=0;i<t.length;i++)t[i].getAttribute("data-image")&&(n[n.length]=new Image,n[n.length-1].src=t[i].getAttribute("data-image")),t[i].getAttribute("data-overimage")&&(n[n.length]=new Image,n[n.length-1].src=t[i].getAttribute("data-overimage")),this.setupmenu(e,t[i],i)}};